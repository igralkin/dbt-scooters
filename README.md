# dbt_scooters

Проект dbt_scooters используется для анализа и моделирования данных, связанных с использованием электросамокатов. Этот проект помогает преобразовывать сырые данные о поездках и пользователях в чистые и структурированные модели, готовые для анализа и отчетности.

## Каталог данных

Каталог dbt, который автоматически обновляется из ветки `main`:

https://igralkin.github.io/dbt-scooters/

## Основные команды dbt

Вот краткое руководство по базовым командам dbt, которые помогут вам работать с проектом:

0. **Установите dbt и другие зависимости:**
   
    ```bash
    pip install -r requirements.txt
    ```

1. **Инициализация нового dbt-проекта:**
   ```bash
   dbt init <project_name>
   ```

2. **Запуск всех моделей:**
   ```bash
   dbt run
   ```

3. **Запуск тестов:**
   ```bash
   dbt test
   ```
   
4. Активируйте PostGIS в базе PostgreSQL, если еще этого не делали:

    ```sql
    create extension postgis schema public;
    ```
    
4. **Генерация документации:**
   ```bash
   dbt docs generate
   ```

5. **Запуск веб-сервера для просмотра документации:**
   ```bash
   dbt docs serve
   ```

6. **Просмотр графа зависимостей:**
   ```bash
   dbt deps
   ```

7. **Запуск одной конкретной модели:**
   ```bash
   dbt run --models <model_name>
   ```

8. **Запуск тестов для конкретной модели:**
   ```bash
   dbt test --models <model_name>
   ```

9. **Проверка актуальности данных в источниках:**
   ```bash
   dbt source freshness
   ```
   
Эти команды помогут вам эффективно управлять проектом dbt_scooters. Для более глубокой информации обращайтесь к [официальной документации](https://docs.getdbt.com/).

## Полезные макросы

- `dbt run-operation create_role --args "name: finance"` - создание роли в базе (на примере роли "finance")